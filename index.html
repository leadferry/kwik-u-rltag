<!DOCTYPE html>
<html ng-app="urltagApp">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="vendor/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<script src="vendor/jquery/dist/jquery.min.js"></script>
		<script src="vendor/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="vendor/angularjs/angular.min.js"></script>
		<script src="vendor/lz-string/libs/lz-string.min.js"></script>
		<script src="kwik-u-rltag.js"></script>
		<title>Kwik-U-RLTag</title>
		<style type="text/css">.tab-pane > .form-group { margin-top: 15px; }</style>
	</head>
	<body ng-controller="URLTagCtrl">
		<a href="" id="urlParser" style="display:none;"></a>
		<div class="container-fluid">
			<div class="row">
				<h1>LeadFerry Kwik-U-RLTag</h1>
			</div>
			<form class="form-horizontal">
				<div class="form-group">
					<label for="inputCampaign" class="col-sm-2 control-label">Campaign :</label>
					<div class="col-sm-8"><input type="text" class="form-control" id="inputCampaign" ng-model="tags.campaign" ng-change="updateHashbang()"></div>
					<div class="col-sm-2 btn-toolbar" role="toolbar">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" aria-label="Reset to defaults" ng-click="resetHashbang()">
								<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
							</button>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">Medium/Source :</label>
					<div class="col-sm-8">
						<div class="panel panel-default"><div class="panel-body">
							<ul class="nav nav-tabs" role="tablist">
								<li role="presentation" ng-repeat="medium in tags.media" ng-class="{'active': $first}"><a ng-href="#{{medium.tag}}" ng-click="$event.preventDefault()" aria-controls="{{medium.tag}}" role="tab" data-toggle="tab">{{medium.medium}}</a></li>
							</ul>
							<div class="tab-content">
								<div role="tabpanel" ng-repeat="medium in tags.media" ng-class="{'active': $first}" class="tab-pane" id="{{medium.tag}}">
									<div class="form-group">
										<label for="inputMedium-{{medium.tag}}" class="col-sm-2 control-label">Medium :</label>
										<div class="col-sm-10"><input type="text" class="form-control" id="inputMedium-{{medium.tag}}" ng-model="medium.tag" ng-change="updateHashbang()"></div>
									</div>
									<ul class="nav nav-tabs" role="tablist">
										<li role="presentation" ng-repeat="source in medium.sources" ng-class="{'active': $first}"><a ng-href="#{{medium.tag}}-{{source.tag}}" ng-click="$event.preventDefault()" aria-controls="{{medium.tag}}-{{source.tag}}" role="tab" data-toggle="tab">{{source.source}}</a></li>
									</ul>
									<div class="tab-content">
										<div role="tabpanel" ng-repeat="source in medium.sources" ng-class="{'active': $first}" class="tab-pane" id="{{medium.tag}}-{{source.tag}}">
											<div class="form-group">
												<label for="inputSource-{{source.tag}}" class="col-sm-2 control-label">Source :</label>
												<div class="col-sm-10"><input type="text" class="form-control" id="inputSource-{{source.tag}}" ng-model="source.tag" ng-change="updateHashbang()"></div>
											</div>
											<input ng-repeat="url in urls" type="text" class="form-control col-sm-12" value={{tagUrl(url,medium,source)}} readonly>
										</div>
									</div>
								</div>
							</div>
						</div></div>
					</div>
				</div>
				<div class="form-group">
					<label for="inputContent" class="col-sm-2 control-label">Content :</label>
					<div class="col-sm-3"><input type="text" class="form-control" id="inputContent" ng-model="tags.content" ng-change="updateHashbang()"></div>
					<label for="inputTerm" class="col-sm-2 control-label">Term :</label>
					<div class="col-sm-3"><input type="text" class="form-control" id="inputTerm" ng-model="tags.term" ng-change="updateHashbang()"></div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">URL(s) :</label>
					<div class="col-sm-10">
						<div ng-repeat="url in urls">
							<div class="row">
								<div class="col-sm-10"><input type="text" class="form-control" id="inputURL{{$index}}" ng-model="url.url"></div>
								<div class="col-sm-2 btn-toolbar" role="toolbar">
									<div class="btn-group" role="group">
										<button type="button" class="btn btn-default" aria-label="Add custom Content/Term tags" ng-click="addContentTerm($index)">
											<span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
										</button>
									</div>
									<div class="btn-group" role="group">
										<button ng-if="$last" type="button" class="btn btn-default" aria-label="Add another URL" ng-click="addUrl()">
											<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
										</button>
										<button ng-if="!$last" type="button" class="btn btn-default" aria-label="Remove this URL" ng-click="removeUrl($index)">
											<span class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span>
										</button>
									</div>
								</div>
							</div>
							<div ng-if="url.content || url.term" class="row">
								<label for="inputContent-{{$index}}" class="col-sm-2 control-label">Content :</label>
								<div class="col-sm-3"><input type="text" class="form-control" id="inputContent-{{$index}}" ng-model="url.content"></div>
								<label for="inputTerm-{{$index}}" class="col-sm-2 control-label">Term :</label>
								<div class="col-sm-3"><input type="text" class="form-control" id="inputTerm-{{$index}}" ng-model="url.term"></div>
								<div class="col-sm-2 btn-toolbar" role="toolbar">
									<div class="btn-group" role="group">
										<button type="button" class="btn btn-default" aria-label="Remove custom Content/Term tags" ng-click="removeContentTerm($index)">
											<span class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</body>
</html>

